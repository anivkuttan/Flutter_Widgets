import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: MyWidget(),
    );
  }
}

class MyWidget extends StatefulWidget {
  @override
  _MyWidgetState createState() => _MyWidgetState();
}

class _MyWidgetState extends State<MyWidget> {
  bool hidePassword = true;
  String email;
  String password;
  final GlobalKey<FormState> _formKey =GlobalKey<FormState>() ;
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("AppBar"),
      ), //appba
      body: Form(
        key:_formKey, 
        child: Column(mainAxisAlignment: MainAxisAlignment.center, children: [
          Text(email),
          Text(password), 
          Padding(
              padding: EdgeInsets.symmetric(horizontal: 30, vertical: 30),
              child: TextFormField(validator:(String value) {if(value. isEmpty) {
return 'UserName Must be filled' ;
              } 
                                                             return null;}, 
       /*onSaved:(value ) {
return email = value;
             }, */
                                   decoration: InputDecoration(
                    border: OutlineInputBorder(), labelText: "User Name"),
              ) //usertextfield
              ), //padding

          //---------------password--------------------//
          Padding(
              padding: EdgeInsets.symmetric(horizontal: 30, vertical: 20),
              child: TextFormField(
                //autoValitateMode:AutovalidateMode.always,
             //   onSaved:(value) {return password =value;}, 
                validator: (String value) {
                  if (value.isEmpty) {
                    return 'Password Mustbe filled';
                  } else if (value.length <= 4) {
                    return 'Password must Contain minimum 4 characters ';
                  }

                  return null;
                },
                obscureText: hidePassword,
                decoration: InputDecoration(
                  suffixIcon: IconButton(
                      icon: Icon(hidePassword
                          ? Icons.visibility_off
                          : Icons.visibility),
                      onPressed: () {
                        setState(() {
                          hidePassword = !hidePassword;
                        });
                      }), //iconbutton
                  border: OutlineInputBorder(),

                  labelText: "Password",
                  hintText: "Enter Your Password",
                ),
              ) //textfield
              ), //padding
          Padding(
            padding: EdgeInsets.symmetric(horizontal: 50, vertical: 30),
            child: ElevatedButton(
                child: Text('Submit'), onPressed: () {
_formKey.currentState.validate();
                  _formKey.currentState.save() ;
                }), //button
          ), //padding
        ]), //column
      ), //form
    );
  }
}
